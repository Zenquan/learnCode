##一、学习目标
上节课我们讲述了c语言的常量与变量以及数据类型中的整数类型，同时我们还涉及了一些数据存储的知识。很多小伙伴反应课程中的编程数量太少，学习起来很不带劲。小编痛定思痛，决定增加课程的实验数量。这节课我们将接着上一节课的内容，继续讲述数据类型中的浮点型和字符型。

##二、浮点型数据
浮点型数据是用来表示具有小数点的实数的。**想知道为什么在c中把实数称为浮点数么？**在C语言中，实数是以指数的形式存放在存储单元的。一个实数表示为指数可以不止一种形式，如4.3242可以表示为`4.3242\*10^0`,`0.43242\*10^1`,`0.043242\*10^2`,`432.42*10^-2`等，他们代表同一个值。可以看到小数点的位置是可以在43242几个数字之间浮动的，只要在小数点位置浮动的同时改变指数的值，就可以保证它的值不会改变。由于小数点的位置可以浮动，所以实数的指数形式成为浮点数。

**知识小点**
**规范化的指数形式：在指数形式的多种表示方式中把小数部分中小数点前的数字为0，小数点后第1位数字不为0的表示形式称为规范化的指数形式，如0.43242*10^1就是4.3242的规范化的指数形式。一个实数只有一个规范化的指数形式。**

浮点数类型包括float（单精度浮点型）、double（双精度浮点型）、long double（长双精度浮点型）。
###1.float型（单精度浮点型）
gcc编译系统为每一个float型变量分配4个字节，数值以规范化的二进制数指数形式存放在存储单元中。在存储时，系统将实型数据分成小数部分和指数部分两个部分、分别存储。如3.14159在内存中的存放形式如下图：
![Alt text](https://dn-anything-about-doc.qbox.me/c/1.jpg)

图中是用十进制来示意的，实际在计算机中是用二进制数来表示小数部分以及用2的幂次来表示指数部分的。在4个字节（32位）究竟用多少位表示小数部分，多少位表示指数部分，是由c语言编译系统自定的。

如果想要知道float的取值范围，我们可以编写4-1.c程序：
![Alt text](https://dn-anything-about-doc.qbox.me/c/4-11.jpg)

如果程序你成功运行的话，你将会看到float数据类型的取值范围。现在我们试着编写一个计算题吧！
我们要做的是利用输入的直径计算一个圆桌的周长及面积。计算圆的周长或者面积时，数学公式要使用pi（周长=2\*pi\*r，面积=pi\*r^2,其中r是半径）。如果不记得这些公式也不用担心。这不是数学课本，所以只要理解程序是如何运行的即可。

**编写4-2.c程序：**
![Alt text](https://dn-anything-about-doc.qbox.me/c/4-3.jpg)


###2.double型（双精度浮点型）
为了能扩大数字的范围，用8个字节（64位）存储一个double型数据，可以得到15位有效数字，double型的数值范围大家可以按照4-1案例查看，其中double的极限值符号的下限为：`DBL_MIN`,上限为`DBL_MAX`。double型的存储方式和float的存储方式相同。
浮点型数据所占的内存空间以及取值范围：
![Alt text](https://dn-anything-about-doc.qbox.me/c/4-8.jpg)


####在平时我们使用的浮点型数据的时候要注意这几个点哦！
**（1）超过有效位的数字被舍去，可能产生舍入误差**
编写4-3.c程序，输入一下代码
```
#include <stdio.h>
int main()
{
       float  a , b ;
       a = 123456.789e5 ;    /*   相当于 123456.789 * 10^5   */
       b = a+20 ;                    /*   20加上无意义   */
       printf(" %f ", b) ;

      return 0;
}    
```

其运行结果为：
```
12345678848.000000  
```
*为什么计算出来不是正确的结果呢？是因为float数据的有效位是7位，`a = 123456.789e5`这条语句中赋值给a的值超过了float的有效位 ;输出结果中 `12345678848.000000`中只有前7位才是有效数字*

现在我们再次用gedit打开4-3.c,把程序修改如下：
```
#include <stdio.h>
int main()
{
       double  a , b ;        //把float改为double类型
       a = 123456.789e5 ;   
       b = a+20 ;                    
       printf(" %f ", b) ;

      retrun 0;
}    
```

程序修改完成后保存并再次编译`gcc -o 4-3 4-3.c`。运行程序得到了以下结果：
```
12345678920.000000
```

这个时候我们发现运行的结果是一个正确的计算结果。因为double型的有效数字是15~16位，而`123456.789e5`（其实是`12345678900`）其有效数字是11位，把它赋值给a不会出现溢出。
在我们以后的项目编程中一定要小心数值溢出的问题，不要以为这种情况很难出现。举个简单的例子，我国很多城市的地铁造价每公里超过了5亿，我国2014年上半年国内生产总值269044亿元，这个时候如果我们定义变量为float甚至是double类型，都是很危险的。

##三、字符型
**c语言中，字符型的基本类型符是char。**

上一节中我们讲到了字符常量，字符型常量是用单引号括起来的一个字符。如'A','a','?'d等等。
在所有的编译系统中都规定以1个字节（8位）来存放一个字符。字符型数据在存储时，并不是把该字符本身存放到内存单元中，而是把该字符相应的ASCII码值存放到该存储单元中。（什么是ASCII码，为什么采用ASCII来存储，大家可以查看百度百科[ASCII](http://baike.baidu.com/view/15482.htm?fr=aladdin)。）
如x的十进制ASCII码是120，y的十进制ASCII码是121。对字符变量a、b赋予'x'和'y'值：
a='x';
b='y';
实际上是在a、b两个单元内存放120和121的二进制代码：
![Alt text](https://dn-anything-about-doc.qbox.me/c/4-6.jpg)


另外还有需要注意的是，字符常量是区分大小写的，例如，字符'c'的ASCII码值是99，'C'的ASCII码值是67，两者并不是同一个字符。大家可以通过[ASCII码表](http://maxiang.info/)查看字符对应的ASCII码值。

我们编写程序4-4，代码如下
```
#include<stdio.h> 
int main()
{ 
  char a,b;                   //定义a和b为字符型变量
  a='c';                      //把字符常量'c'赋值给变量a
  b=121; 
  printf("%c,%c\n",a,b);      //%c表示以字符的形式输出
  printf("%d,%d\n",a,b);      //%d表示以有符号十进制形式输出整数型
  return 0;
}
```

编译并运行之后的结果是：
```
c,y
99,121
```

本程序中定义a，b为字符型，在赋值语句中给a赋以字符值，但是给b却赋以整型值。从结果看，a，b值的输出形式取决于printf函数格式串中的格式符，当格式符为"c"时，对应输出的变量值为字符，当格式符为"d"时，对应输出的变量值为整数。
**也就是说，一个在字符的数据既可以以字符的形式输出，也可以以整数的形式输出。以字符形式输出时，先将存储单元中的ASCII码转换成相应的字符再输出；以整数的形式输出时，直接输出其ASCII码。**

我们还可以对字符型数据进行算术运算，此时相当于对他们的ASCII码进行运算，编写程序4-5：
```
#include<stdio.h> 
int main()
{ 
  char a,x;
  int b;                  
  a='c';                      
  b=1; 
  x=a+b;
  printf("%c\n",x);      
  printf("%d\n",x);      
  return 0;
}
```

程序运行的结果是：
```
d
100
```

##四、字符串常量
字符串常量是用一对双引号括起来的零个或多个字符组成的序列，如"hello","China","b"都是字符串常量。
字符串常量的存储与字符常量的存储是不同的。字符串中的每个字符占用一个字节，在存储字符串常量时还要自动在其末尾加上'\0'作为字符串结束的标志。
我们先来一起看下"How do you do."是如何存储的吧！
![Alt text](https://dn-anything-about-doc.qbox.me/c/4-7.jpg)

因此大家不要将字符常量和字符串常量混淆哦，'b'和"b"是完全不同的。前者是字符常量，在内存中占用的字节数为1；而后者是字符串常量，在内存中占用的字节数为2，包含字符b和\0。

**注意：在c语言中没有专门的字符串变量，如果你想要将一个字符串存放在变量中，必须使用字符数组，数组中每一个元素存放一个字符，数组的内容我们会在以后的课程中和大家详细讲述**

###各位小伙伴，我们学到了字符串常量，这个时候有木有想起我们编写的第一个程序Hello ShiYanLou！回忆起我们一起走过的日子真好！

##五、小结
各位实验楼的小伙伴们，学完这一节课，我们的数据类型就讲解结束了，大家有没有感觉收获了很多东西。常量、变量、整形（int short long）、浮点型（float double）、字符型（char），还有字符串常量，，，，，如果你说你什么都不记得了，我建议你重温我们的故事，从第三章到这里在大概的浏览一遍吧！下面有进入了我们的答题时间了。有木有很期待！

##六、练习
**1.**已知华氏温度与摄氏温度之间的转换公式是：
C=5/9*(F-32)
编写一个程序，将用户输入的摄氏温度转换成为华氏温度，并予以输出；

####是不是总是做算术题小伙伴有些不开心啦，我们来一个有意思的题目吧

**2.**制作中文图书管理系统的登陆界面

问题分析：中文图书管理系统登陆界面是进入图书管理系统的第一个界面，实现实现用户登录系统的功能，可据此对用户的合法性进行检查，本案例只是实现简单的登录功能。
用户输入：借书卡号，用户姓名
期望的输出：登陆成功的提示信息

**这一次我们带着大家写完程序的代码，以后可要大家自己想怎么写了**

编写程序4-2，代码如下

```
#include<stdio.h>
int main()
{
    int cardnum;
    char name[20];  //小伙伴注意了，这个就是定义了一个字符串数组，可以容纳20字符
    printf("**********************************************************\n");
    printf("********Welcome to the books management system************\n");
    printf("**********************************************************\n");
    printf("~~~~~~~~~\t\t\t\t~~~~~~~~~~~~~~\n");
    printf("Please input your card number:\n");
    scanf("%d",&cardnum);
    printf("Please input your name:\n");
    scanf("%s",name);
    printf("\nWelcome，%s！Your card number is：%d\n",name,cardnum);
    return 0;
    
}
```

运行结果：
![Alt text](https://dn-anything-about-doc.qbox.me/c/4-9.jpg)















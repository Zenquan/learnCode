# Java 方法

---

## 实验介绍 ##

　　本实验将学习Java方法的定义与语法规则，参数和返回值的相关内容。

## 一、方法的定义与语法规则 ##

　　Java中的方法，我们可以将其看成一个功能的集合，他们是为了解决特定问题的代码组合。比如司机会开车，老师会教书一样，不同的方法可以实现不同的功能。

方法的定义语法：

```java
访问修饰符 返回值类型 方法名(参数列表){
    方法体
}
```

在上面的语法说明中：

1. 访问修饰符，代表方法允许被访问的权限范围， 可以是 public、protected、private 甚至可以省略 ，其中 public 表示该方法可以被其他任何代码调用，其他几种修饰符的使用我们会在后面章节中详细讲解。

2. 返回值类型是方法返回值的类型，如果方法不返回任何值，则返回值类型指定为 void (代表无类型)；如果方法具有返回值，则需要指定返回值的类型，并且在方法体中使用 return 语句返回值。

3. 方法名是方法的名字，必须使用合法的标识符。

4. 参数列表是传递给方法的参数列表，参数可以有多个，多个参数间以逗号隔开，每个参数由参数类型和参数名组成，以空格隔开。

根据方法是否带参、是否带返回值，可将方法分为四类：

* 无参无返回值方法
* 无参带返回值方法
* 带参无返回值方法
* 带参带返回值方法

例如：

```java
public class printScore {
    public static void main(String[] args) {
        
		// 创建对象，对象名为a
		printScore a = new printScore();
		
		int rSum;  //设置一个int型变量，用来接收方法的返回值
		
		// 调用方法，传入两门课程的成绩
		rSum = a.calcSum(78,99);
		System.out.println("总分："+ rSum);
	}

	/*
	 * 功能：计算两门课程考试成绩的总分并输出总分
	 * 定义一个包含两个参数的方法，用来传入两门课程的成绩
	 */
    public int calcSum(int a, int b){
    		int sum= a + b;
    		return sum;
    }
}
```

　　如上所示：方法名为`calcSum`，他有两个参数`int a`和`int b`，在方法调用的时候必须传入这两个参数。它有一个`int 型`的返回值，所以在方法里，有一条语句`return sum;`用来返回`sum`的值，而在方法调用的时候，我们用一个`int 型`变量`rSum`来接收这个返回值。方法`calcSum`实现了将两门课程的总成绩算出并返回。

注意：

1. 方法体放在一对大括号中，实现特定的操作

2. 方法名主要在调用这个方法时使用，需要注意命名的规范，一般采用第一个单词首字母小写，其它单词首字母大写的形式

3. 调用方法的语法是`对象名.方法名`（类和对象后面会讲到）



## 二、参数与参数列表 ##

　　　在现实生活中，我们为了完成某件事情之前是需要一些条件的，比如我们买东西肯定是需要钱的。当然，方法也是如此。我们需要方法帮我们完成某项功能的时候，需要根据需求去调整条件。于是就有了参数。

　　　我们可以通过在方法中加入参数列表接收外部传入的数据信息，参数可以是任意的基本类型数据或引用类型数据。

例如：

```java
public void printName(String name){
    System.out.println(name);
}
```

　　上面就是一个方法，方法名为`printName`，无返回值，参数类型为`String`，参数名`name`,它的功能是打印姓名，我们通过参数将姓名传入到这个方法中，利用方法将姓名输出到控制台上。

　　调用带参方法与调用无参方法的语法类似，但在调用时必须传入实际的参数值。语法为`对象名.方法名（参数1，参数2...）`

　　在这里我们必须区分什么是实参什么是形参。我们先看一个例子。

```java
public class printScore {
    public static void main(String[] args) {
        
		// 创建对象，对象名为a
		printScore a = new printScore();
		
        
		double rAve;   //用来存放返回的平均成绩
		
		//两课的成绩，是我们实际的参数
		int sub1 = 78;  
		int sub2 = 99;
		
		// 调用方法，传入两门课程的成绩
		rAve = a.calcAve(sub1,sub2);
		System.out.println("平均分："+rAve);
	}

	/*
	 * 功能：计算两门课程考试成绩的平均分并输出平均分
	 * 定义一个包含两个参数的方法，用来传入两门课程的成绩
	 * 两个参数 a 和 b 为我们的形参，只在方法内有效
	 */
    public double calcAve(int a, int b){
    		double ave = (a + b) / 2;
    		return ave;
    }
}
```

　　我们可以通过内存的图示来简单地说明一下。

![方法调用前内存的情况](https://dn-anything-about-doc.qbox.me/document-uid79144labid1053timestamp1434596442765.png?watermark/1/image/aHR0cDovL3N5bC1zdGF0aWMucWluaXVkbi5jb20vaW1nL3dhdGVybWFyay5wbmc=/dissolve/60/gravity/SouthEast/dx/0/dy/10)

　　上图是方法调用前内存的情况，所有的变量都存放在桟中，由系统统一管理，因为我们在定义变量`rAve`时为对它进行初始化，所以它的值是随机的，由它所在空间原有的值决定。

　　我们在创建对象时系统也会为对象分配内存空间，这里不详细说明，以后木木会告诉大家。

![方法调用时内存的情况](https://dn-anything-about-doc.qbox.me/document-uid79144labid1053timestamp1434596495482.png?watermark/1/image/aHR0cDovL3N5bC1zdGF0aWMucWluaXVkbi5jb20vaW1nL3dhdGVybWFyay5wbmc=/dissolve/60/gravity/SouthEast/dx/0/dy/10)

![方法调用时内存的情况](https://dn-anything-about-doc.qbox.me/document-uid79144labid1053timestamp1434596520604.png?watermark/1/image/aHR0cDovL3N5bC1zdGF0aWMucWluaXVkbi5jb20vaW1nL3dhdGVybWFyay5wbmc=/dissolve/60/gravity/SouthEast/dx/0/dy/10)

　　方法调用时，系统会专门为方法开辟一块空间用来存放方法内的变量。此时大家可以看到，`sub1`和`sub2`两个实参其实并没有进入方法中，只是将它们两个的值赋值个了形参`a`和`b`。

![方法调用后内存的情况](https://dn-anything-about-doc.qbox.me/document-uid79144labid1053timestamp1434596551023.png?watermark/1/image/aHR0cDovL3N5bC1zdGF0aWMucWluaXVkbi5jb20vaW1nL3dhdGVybWFyay5wbmc=/dissolve/60/gravity/SouthEast/dx/0/dy/10)

　　方法调用结束后，系统会释放掉方法所产生的空间，回收系统资源。该方法有返回值，并被`rAve`接收了。

注意：

1. 调用带参方法时，必须保证实参的数量、类型、顺序与形参一一对应

2. 调用方法时，实参不需要指定数据类型

3. 当方法参数有多个时，多个参数间以逗号分隔

## 三、返回值 ##

　　如上面的例子所示，方法是一个实现了条件输入和结果输出的过程，往往我们需要对方法的结果进行进一步的处理，这时候我们就需要方法返回值了。

注意：

1. 如果方法的返回类型为 void ，则方法中不能使用 return 返回值。

2. 方法的返回值最多只能有一个，不能返回多个值。

3. 方法返回值的类型必须兼容，也就是说如果返回值类型为 int ，则不能返回 String 型值

4. 调用带返回值的方法时，由于方法执行后会返回一个结果，因此在调用带返回值方法时一般都会接收其返回值并进行处理

## 四、作业 ##

 　　好了同学们，接下来我们便实现一个方法吧。
 
 　　实现一个方法，接收一个层数值n，打印一个有n层的直角三角形，并返回底边最后一个值。并打印出来。

如下：

n为2

打印出：

```java
01
02 03
返回值为3
```

n为5

打印出：

```java
01
02 03
04 05 06
07 08 09 10
11 12 13 14 15
返回值为15
```

参考代码如下：

```java
public class printTriangle {
    public static void main(String[] args) {
        
		// 创建对象，对象名为a
		printTriangle a = new printTriangle();
		
		int lastNum;    //用来存储最后一个值
		
		// 调用方法，传入层数
		lastNum = a.printRightTriangle(5);
		//打印最后一个数
		System.out.println("最后一个值为"+lastNum);
	}

	/*
	 * 功能：打印出直角三角形
	 */
    public int printRightTriangle(int n){
    		int last = 0;
    		for(int i = 1; i <= n; i++) {
    			for(int j = 1; j <= i; j++) {
    				last++;
    				System.out.printf("%02d ", last);
    			}
    			System.out.println();
    		}
    		return last;
    }
}

```